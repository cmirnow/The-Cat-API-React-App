"use strict";(self.webpackChunkTheCatAPI_React_App=self.webpackChunkTheCatAPI_React_App||[]).push([[772],{772:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(791),s=a(763),r=a(965),i=a(184);const o="fetching",c="loaded",l=(0,s.debounce)(((e,t)=>{e(o),(0,r.T)(t).then((()=>e("fetched"))).catch((e=>console.error("Error fetching random cat:",e.message)))}),500),d=(0,n.memo)((()=>{const[e,t]=(0,n.useState)(null),[a,s]=(0,n.useState)(o);return(0,n.useEffect)((()=>{l(s,t)}),[]),(0,i.jsxs)("div",{className:"random",children:[(0,i.jsx)("div",{children:(0,i.jsx)("button",{className:"btn btn-info",onClick:()=>l(s,t),children:"Get Random Cat!"})}),(0,i.jsxs)("div",{children:[a!==c&&(0,i.jsx)("div",{className:"spinner-border text-warning",style:{width:"5rem",height:"5rem",margin:"60px auto"},role:"status",children:(0,i.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),a!==o&&e&&(0,i.jsx)("img",{onLoad:()=>s(c),style:{display:a===c?"inline":"none"},src:e,alt:"Random Cat"})]})]})}))},965:(e,t,a)=>{a.d(t,{T:()=>i,c:()=>o});const n={},s="https://api.thecatapi.com/v1",r="live_IuJyxbEXobhzEFpKv1qHbEx7KaXq8yQbUhtaXgbEiJMmOXq7EvZ4BhOLTNgjC5mX",i=async e=>{const t=`${s}/images/search`;if(n[t])e(n[t][0].url);else try{const a=await fetch(t,{headers:{"Content-Type":"application/json","x-api-key":r}});if(!a.ok)throw new Error("Failed to fetch random cat image");const s=await a.json();n[t]=s,e(s[0].url)}catch(a){throw a}},o=async e=>{const t=`${s}/breeds`;if(n[t])e(n[t].filter((e=>{var t;return null!=(null===(t=e.image)||void 0===t?void 0:t.url)})));else try{const a=await fetch(t,{headers:{"Content-Type":"application/json","x-api-key":r}});if(!a.ok)throw new Error("Failed to fetch cat breeds");const s=await a.json();n[t]=s,e(s.filter((e=>{var t;return null!=(null===(t=e.image)||void 0===t?void 0:t.url)})))}catch(a){throw a}}}}]);
//# sourceMappingURL=772.a8d91d27.chunk.js.map