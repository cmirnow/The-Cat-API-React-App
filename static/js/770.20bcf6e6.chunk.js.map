{"version":3,"file":"static/js/770.20bcf6e6.chunk.js","mappings":"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","sources":["components/BreedsComponent.js","services/catApiService.js"],"sourcesContent":["import React, { useState, useEffect, memo } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport \"lightbox2/dist/js/lightbox-plus-jquery\";\nimport \"lightbox2/dist/css/lightbox.css\";\nimport { fetchCatBreeds } from \"../services/catApiService\";\n\nconst BreedsComponent = memo(() => {\n  const [apiData, setApiData] = useState([]);\n\n  useEffect(() => {\n    fetchCatBreeds(setApiData).catch((error) =>\n      console.error(\"Error fetching breeds:\", error.message)\n    );\n  }, []);\n\n  return (\n    <div className=\"breeds\">\n      <Table\n        className=\"text-center align-middle md-no-table caption-top\"\n        bordered\n        striped\n        hover\n        variant=\"dark\"\n        size=\"sm\"\n      >\n        <caption>\n          <button type=\"button\" className=\"btn btn-info position-relative\">\n            Cat Breeds\n            <span className=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\">\n              {apiData.length}\n            </span>\n          </button>\n        </caption>\n        <thead className=\"align-middle\">\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Temperament</th>\n            <th scope=\"col\">Description</th>\n            <th scope=\"col\">Life Span</th>\n            <th scope=\"col\">Child Friendly</th>\n            <th scope=\"col\">Dog Friendly</th>\n            <th scope=\"col\">Stranger Friendly</th>\n            <th scope=\"col\">Energy Level</th>\n            <th scope=\"col\">Grooming</th>\n            <th scope=\"col\">Origin</th>\n            <th scope=\"col\">Image</th>\n          </tr>\n        </thead>\n        <tbody>\n          {apiData.map((item) => (\n            <tr key={item.id}>\n              <td data-title=\"Name\">\n                <a href={item.wikipedia_url} target=\"_blank\" rel=\"noreferrer\">\n                  {item.name}\n                </a>\n              </td>\n              <td data-title=\"Temperament\">{item.temperament}</td>\n              <td data-title=\"Description\">{item.description}</td>\n              <td data-title=\"Life Span\">{item.life_span}</td>\n              <td data-title=\"Child Friendly\">{item.child_friendly}</td>\n              <td data-title=\"Dog Friendly\">{item.dog_friendly}</td>\n              <td data-title=\"Stranger Friendly\">{item.stranger_friendly}</td>\n              <td data-title=\"Energy Level\">{item.energy_level}</td>\n              <td data-title=\"Grooming\">{item.grooming}</td>\n              <td data-title=\"Origin\">{item.origin}</td>\n              <td data-title=\"Image\">\n                <a\n                  href={item.image.url}\n                  data-lightbox=\"Cat Breeds\"\n                  data-title={item.name}\n                >\n                  <img\n                    src={item.image.url}\n                    alt={item.name}\n                    title={item.name}\n                    className=\"image_cats_collection\"\n                  />\n                </a>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  );\n});\n\nexport default BreedsComponent;\n","const cache = {\n  breeds: { data: null, timestamp: 0 },\n};\n\nconst BASE_URL = \"https://api.thecatapi.com/v1\";\nconst API_KEY = process.env.REACT_APP_THECAT_API_KEY;\nconst CACHE_TTL = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n\nconst fetchWithTimeout = async (url, options, timeout = 10000) => {\n  const controller = new AbortController();\n  const id = setTimeout(() => controller.abort(), timeout);\n  const response = await fetch(url, { ...options, signal: controller.signal });\n  clearTimeout(id);\n  return response;\n};\n\nexport const fetchRandomCatImage = async (setImage, retries = 3) => {\n  const url = `${BASE_URL}/images/search?timestamp=${Date.now()}`;\n\n  for (let attempt = 0; attempt < retries; attempt++) {\n    try {\n      const response = await fetchWithTimeout(url, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": API_KEY,\n        },\n      }, 10000);\n      if (!response.ok) throw new Error(`HTTP error ${response.status}`);\n      const data = await response.json();\n      if (!data[0]?.url) throw new Error(\"No image URL in response\");\n      setImage(data[0].url);\n      return true;\n    } catch (error) {\n      if (attempt === retries - 1) {\n        console.error(\"Failed to fetch random cat after retries:\", error.message);\n        throw error;\n      }\n      await new Promise((resolve) => setTimeout(resolve, 1000 * (attempt + 1)));\n    }\n  }\n};\n\nexport const fetchCatBreeds = async (setBreeds, retries = 3) => {\n  const url = `${BASE_URL}/breeds`;\n  const now = Date.now();\n\n  // If there is data in the cache and it is not older than 24 hours, we use it\n  if (cache.breeds.data && now - cache.breeds.timestamp < CACHE_TTL) {\n    setBreeds(cache.breeds.data.filter((img) => img.image?.url != null));\n    return true;\n  }\n\n  for (let attempt = 0; attempt < retries; attempt++) {\n    try {\n      const response = await fetchWithTimeout(url, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-api-key\": API_KEY,\n        },\n      }, 10000);\n      if (!response.ok) throw new Error(`HTTP error ${response.status}`);\n      const data = await response.json();\n      // Save data to cache with the current timestamp\n      cache.breeds.data = data;\n      cache.breeds.timestamp = now;\n      setBreeds(data.filter((img) => img.image?.url != null));\n      return true;\n    } catch (error) {\n      if (attempt === retries - 1) {\n        console.error(\"Failed to fetch cat breeds after retries:\", error.message);\n        throw error;\n      }\n      await new Promise((resolve) => setTimeout(resolve, 1000 * (attempt + 1)));\n    }\n  }\n};\n"],"names":["memo","apiData","setApiData","useState","useEffect","fetchCatBreeds","catch","error","console","message","_jsx","className","children","_jsxs","Table","bordered","striped","hover","variant","size","type","length","scope","map","item","href","wikipedia_url","target","rel","name","temperament","description","life_span","child_friendly","dog_friendly","stranger_friendly","energy_level","grooming","origin","image","url","src","alt","title","id","cache","breeds","data","timestamp","BASE_URL","API_KEY","process","fetchWithTimeout","async","options","timeout","arguments","undefined","controller","AbortController","setTimeout","abort","response","fetch","signal","clearTimeout","fetchRandomCatImage","setImage","retries","Date","now","attempt","_data$","headers","ok","Error","status","json","Promise","resolve","setBreeds","filter","img","_img$image","_img$image2"],"sourceRoot":""}